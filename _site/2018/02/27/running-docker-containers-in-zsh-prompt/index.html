<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet'>
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="" href="/atom.xml">
</head>


<header class="header">
    <div class="header-text">
        <div class="navigation">
            <a href="http://nielssegers.com">home</a>
            <a href="work">work</a>
            <a href="https://linkedin.com/in/nielssegers">about</a>
        </div>
        <h1>niels segers</h1>
        <hr class="hr-small">
        <span class="subheading">automator of things</span>
    </div>
</header>

<body>
    <div class="container content">
        <main>
            <article class="post">
  <h1 class="post-title">Running docker containers in ZSH prompt</h1>
  <time datetime="2018-02-27T00:00:00+01:00" class="post-date">27 Feb 2018</time>
  <p>I find it oddly amusing to see how many docker container I have running on my prompt while working.   This is how you do it.</p>

<p>First you create the following function in your <code class="highlighter-rouge">.zshrc</code> file. Which basically just gets the count of containers in your <code class="highlighter-rouge">docker ps</code>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="k">function </span>docker_prompt <span class="o">()</span> <span class="o">{</span>
  docker ps <span class="nt">-q</span> |wc <span class="nt">-l</span> |tr <span class="nt">-d</span> <span class="s1">' '</span>
<span class="o">}</span></code></pre></figure>

<p>Then you proceed to insert this <code class="highlighter-rouge">docker_prompt</code> function in your <code class="highlighter-rouge">PROMPT</code>. As I’m using the <code class="highlighter-rouge">oh-my-zsh</code> theme called <code class="highlighter-rouge">sorin</code> I went to edit <code class="highlighter-rouge">~/.oh-my-zsh/themes/sorin.zsh-theme</code>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">PROMPT</span><span class="o">=</span><span class="s1">'%{$fg[red]%}containers:(%{$fg[blue]%}$(docker_prompt)%{$fg[red]%}) %{$fg[cyan]%}%c$(git_prompt_info) %(!.%{$fg_bold[red]%}#.%{$fg_bold[green]%}❯)%{$reset_color%} '</span></code></pre></figure>

<p>Et voila!</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">containers:<span class="o">(</span>0<span class="o">)</span> ~ ❯</code></pre></figure>


</article>


<aside class="related">
  <h3>Related posts</h3>
  <ul class="related-posts">
    
      <li>
        <a href="/2018/02/27/beautify-your-json-files-using-jq/">
          Beautify your JSON files using JQ
          <small><time datetime="2018-02-27T00:00:00+01:00">27 Feb 2018</time></small>
        </a>
      </li>
    
      <li>
        <a href="/2018/02/21/npm-packages/">
          NPM Packages
          <small><time datetime="2018-02-21T00:00:00+01:00">21 Feb 2018</time></small>
        </a>
      </li>
    
      <li>
        <a href="/2017/11/11/slackdo/">
          Slackdo
          <small><time datetime="2017-11-11T00:00:00+01:00">11 Nov 2017</time></small>
        </a>
      </li>
    
  </ul>
</aside>


        </main>
    </div>
</body>
</html>
