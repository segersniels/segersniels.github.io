<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet'>
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="" href="/atom.xml">
</head>


<header class="header">
    <div class="header-text">
        <div class="navigation">
            <a href="http://nielssegers.com">home</a>
            <a href="http://nielssegers.com/work">work</a>
            <a href="https://linkedin.com/in/nielssegers">about</a>
        </div>
        <h1>niels segers</h1>
        <hr class="hr-small">
        <span class="subheading">automator of things</span>
    </div>
</header>

<body>
    <div class="container content">
        <main>
            <article class="post">
  <h1 class="post-title">Beautify your JSON files using JQ</h1>
  <time datetime="2018-02-27T00:00:00+01:00" class="post-date">27 Feb 2018</time>
  <p>When working together with people on a project you are doomed to have some sort of JSON formatting issues at some point. As some people use 2 spaces at tab indentation and others use 4 space tabs things (yes Iâ€™m one of those people that uses 2 space tabs).</p>

<p>Quick easy alias to beautify your JSON files, making use of JQ, to fix indentation issues.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">alias </span><span class="nv">jsonb</span><span class="o">=</span>beautify_json_file

<span class="k">function </span>beautify_json_file <span class="o">()</span> <span class="o">{</span>
  <span class="nb">cat</span> <span class="nv">$1</span> |jq <span class="s1">'.'</span> <span class="o">&gt;</span> .TEMP
  <span class="k">if</span> <span class="o">[</span> <span class="nt">-s</span> <span class="s2">".TEMP"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">mv</span> .TEMP <span class="nv">$1</span>
  <span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"ERR: File </span><span class="nv">$1</span><span class="s2"> contains invalid JSON"</span>
    <span class="nb">rm</span> .TEMP
  <span class="k">fi</span>
<span class="o">}</span></code></pre></figure>


</article>


<aside class="related">
  <h3>Related posts</h3>
  <ul class="related-posts">
    
      <li>
        <a href="/2018/02/27/scheduling-of-aws-spot-instances/">
          Scheduling of AWS Spot instances
          <small><time datetime="2018-02-27T00:00:00+01:00">27 Feb 2018</time></small>
        </a>
      </li>
    
      <li>
        <a href="/2018/02/27/running-docker-containers-in-zsh-prompt/">
          View running docker containers in ZSH prompt
          <small><time datetime="2018-02-27T00:00:00+01:00">27 Feb 2018</time></small>
        </a>
      </li>
    
      <li>
        <a href="/2018/02/21/npm-packages/">
          NPM Packages
          <small><time datetime="2018-02-21T00:00:00+01:00">21 Feb 2018</time></small>
        </a>
      </li>
    
  </ul>
</aside>


        </main>
    </div>
</body>
</html>
