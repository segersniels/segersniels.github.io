<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet'>
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="" href="/atom.xml">
</head>


<header class="header">
    <div class="header-text">
        <div class="navigation">
            <a href="http://nielssegers.com">home</a>
            <a href="work">work</a>
            <a href="https://linkedin.com/in/nielssegers">about</a>
        </div>
        <h1>niels segers</h1>
        <hr class="hr-small">
        <span class="subheading">automator of things</span>
    </div>
</header>

<body>
    <div class="container content">
        <main>
            <div class="posts">
    
    <article class="post">
        <h1 class="post-title">
            Running docker containers in ZSH prompt
        </h1>

        <time datetime="2018-02-27T00:00:00+01:00" class="post-date">27 Feb 2018</time>

        <p>I find it oddly amusing to see how many docker container I have running on my prompt while working.   This is how you do it.</p>

<p>First you create the following function in your <code class="highlighter-rouge">.zshrc</code> file. Which basically just gets the count of containers in your <code class="highlighter-rouge">docker ps</code>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="k">function </span>docker_prompt <span class="o">()</span> <span class="o">{</span>
  docker ps <span class="nt">-q</span> |wc <span class="nt">-l</span> |tr <span class="nt">-d</span> <span class="s1">' '</span>
<span class="o">}</span></code></pre></figure>

<p>Then you proceed to insert this <code class="highlighter-rouge">docker_prompt</code> function in your <code class="highlighter-rouge">PROMPT</code>. As I’m using the <code class="highlighter-rouge">oh-my-zsh</code> theme called <code class="highlighter-rouge">sorin</code> I went to edit <code class="highlighter-rouge">~/.oh-my-zsh/themes/sorin.zsh-theme</code>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">PROMPT</span><span class="o">=</span><span class="s1">'%{$fg[red]%}containers:(%{$fg[blue]%}$(docker_prompt)%{$fg[red]%}) %{$fg[cyan]%}%c$(git_prompt_info) %(!.%{$fg_bold[red]%}#.%{$fg_bold[green]%}❯)%{$reset_color%} '</span></code></pre></figure>

<p>Et voila!</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">containers:<span class="o">(</span>0<span class="o">)</span> ~ ❯</code></pre></figure>


    </article>
    
    <article class="post">
        <h1 class="post-title">
            Beautify your JSON files using JQ
        </h1>

        <time datetime="2018-02-27T00:00:00+01:00" class="post-date">27 Feb 2018</time>

        <p>When working together with people on a project you are doomed to have some sort of JSON formatting issues at some point. As some people use 2 spaces at tab indentation and others use 4 space tabs things (yes I’m one of those people that uses 2 space tabs).</p>

<p>Quick easy alias to beautify your JSON files, making use of JQ, to fix indentation issues.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">alias </span><span class="nv">jsonb</span><span class="o">=</span>beautify_json_file

<span class="k">function </span>beautify_json_file <span class="o">()</span> <span class="o">{</span>
  <span class="nb">cat</span> <span class="nv">$1</span> |jq <span class="s1">'.'</span> <span class="o">&gt;</span> .TEMP
  <span class="k">if</span> <span class="o">[</span> <span class="nt">-s</span> <span class="s2">".TEMP"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">mv</span> .TEMP <span class="nv">$1</span>
  <span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"ERR: File </span><span class="nv">$1</span><span class="s2"> contains invalid JSON"</span>
    <span class="nb">rm</span> .TEMP
  <span class="k">fi</span>
<span class="o">}</span></code></pre></figure>


    </article>
    
    <article class="post">
        <h1 class="post-title">
            NPM Packages
        </h1>

        <time datetime="2018-02-21T00:00:00+01:00" class="post-date">21 Feb 2018</time>

        <p>I recently released two NPM packages that might be of use to some people.<br />
The first one is <a href="https://www.npmjs.com/package/supdock">supdock</a> and basically wraps around the docker command to give you a more visual way to interact with the daemon.<br />
The second one is called <a href="https://www.npmjs.com/package/terraform-ecs-plan-checker">terraform-ecs-plan-checker</a> which allows you to check your Terraform plans for changes in ECS container definitions since the last state.</p>

<p>I’m surprised that they have been doing quite well!</p>

    </article>
    
    <article class="post">
        <h1 class="post-title">
            Slackdo
        </h1>

        <time datetime="2017-11-11T00:00:00+01:00" class="post-date">11 Nov 2017</time>

        <p>Today I published a small rubygem called <a href="https://rubygems.org/gems/slackdo">Slackdo</a>, which let’s me take control of my TODO items on both Slack and Trello at the same time from the command line. As I’m working in a terminal most of the time this allows me to save a lot of time going back and forth between lists.</p>

    </article>
    
    <article class="post">
        <h1 class="post-title">
            New job!
        </h1>

        <time datetime="2017-10-30T00:00:00+01:00" class="post-date">30 Oct 2017</time>

        <p>I came to the conclusion that my last job wasn’t really what I hoped it would be.<br />
Even though I liked the company’s product and enjoyed my time there I had to make a decision.</p>

<p>So I quit and was lucky enough to get a job at the company where I did my internship, <a href="http://www.smalltownheroes.be/">Small Town Heroes</a>, home to DevOps pioneer <a href="https://twitter.com/patrickdebois">Patrick Debois</a>! AWS, Docker, Serverless, Terraform and Node.JS here I come (again)!</p>

<p>I’m up for the challenge!</p>

    </article>
    
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page2">Older</a>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>

        </main>
    </div>
</body>
</html>
